import{P as te,V as ne,W as ie,X as re,Y as k,_ as oe,aa as ae,f as X,g as Z,h as ee}from"./chunk-ONQOW56X.js";import{b as M,d as Y,e as J,f as K,g as x}from"./chunk-72ACAZI3.js";import{$,Db as H,Jb as G,Ka as y,La as R,Na as z,Nb as L,Oa as m,P as V,Q as j,Qa as B,U as v,Ya as C,Z as w,_ as S,bb as l,cb as c,db as s,eb as A,fb as O,gb as P,hb as h,ia as q,ib as E,jb as F,kb as d,lb as W,mb as b,na as I,nb as f,pb as g,qb as u,vb as U,wb as _,xa as N,xb as Q,yb as T,za as o}from"./chunk-J5SJC4YW.js";var de=["header"],fe=["title"],ge=["subtitle"],ue=["content"],_e=["footer"],he=["*",[["p-header"]],[["p-footer"]]],ve=["*","p-header","p-footer"];function ye(e,i){e&1&&h(0)}function Ce(e,i){if(e&1&&(c(0,"div",8),b(1,1),m(2,ye,1,0,"ng-container",6),s()),e&2){let t=d();o(2),l("ngTemplateOutlet",t.headerTemplate||t._headerTemplate)}}function be(e,i){if(e&1&&(O(0),_(1),P()),e&2){let t=d(2);o(),Q(t.header)}}function Te(e,i){e&1&&h(0)}function Me(e,i){if(e&1&&(c(0,"div",9),m(1,be,2,1,"ng-container",10)(2,Te,1,0,"ng-container",6),s()),e&2){let t=d();o(),l("ngIf",t.header&&!t._titleTemplate&&!t.titleTemplate),o(),l("ngTemplateOutlet",t.titleTemplate||t._titleTemplate)}}function xe(e,i){if(e&1&&(O(0),_(1),P()),e&2){let t=d(2);o(),Q(t.subheader)}}function ke(e,i){e&1&&h(0)}function we(e,i){if(e&1&&(c(0,"div",11),m(1,xe,2,1,"ng-container",10)(2,ke,1,0,"ng-container",6),s()),e&2){let t=d();o(),l("ngIf",t.subheader&&!t._subtitleTemplate&&!t.subtitleTemplate),o(),l("ngTemplateOutlet",t.subtitleTemplate||t._subtitleTemplate)}}function Se(e,i){e&1&&h(0)}function Ie(e,i){e&1&&h(0)}function Oe(e,i){if(e&1&&(c(0,"div",12),b(1,2),m(2,Ie,1,0,"ng-container",6),s()),e&2){let t=d();o(2),l("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var Pe=({dt:e})=>`
.p-card {
    background: ${e("card.background")};
    color: ${e("card.color")};
    box-shadow: ${e("card.shadow")};
    border-radius: ${e("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${e("card.caption.gap")};
}

.p-card-body {
    padding: ${e("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${e("card.body.gap")};
}

.p-card-title {
    font-size: ${e("card.title.font.size")};
    font-weight: ${e("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${e("card.subtitle.color")};
}
`,Ee={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},le=(()=>{class e extends oe{name="card";theme=Pe;classes=Ee;static \u0275fac=(()=>{let t;return function(n){return(t||(t=I(e)))(n||e)}})();static \u0275prov=V({token:e,factory:e.\u0275fac})}return e})();var D=(()=>{class e extends ae{header;subheader;set style(t){te(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=q(null);_componentStyle=v(le);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this._headerTemplate=t.template;break;case"title":this._titleTemplate=t.template;break;case"subtitle":this._subtitleTemplate=t.template;break;case"content":this._contentTemplate=t.template;break;case"footer":this._footerTemplate=t.template;break;default:this._contentTemplate=t.template;break}})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=I(e)))(n||e)}})();static \u0275cmp=y({type:e,selectors:[["p-card"]],contentQueries:function(r,n,p){if(r&1&&(f(p,ne,5),f(p,ie,5),f(p,de,4),f(p,fe,4),f(p,ge,4),f(p,ue,4),f(p,_e,4),f(p,re,4)),r&2){let a;g(a=u())&&(n.headerFacet=a.first),g(a=u())&&(n.footerFacet=a.first),g(a=u())&&(n.headerTemplate=a.first),g(a=u())&&(n.titleTemplate=a.first),g(a=u())&&(n.subtitleTemplate=a.first),g(a=u())&&(n.contentTemplate=a.first),g(a=u())&&(n.footerTemplate=a.first),g(a=u())&&(n.templates=a)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[H([le]),z],ngContentSelectors:ve,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(r,n){r&1&&(W(he),c(0,"div",0),m(1,Ce,3,1,"div",1),c(2,"div",2),m(3,Me,3,2,"div",3)(4,we,3,2,"div",4),c(5,"div",5),b(6),m(7,Se,1,0,"ng-container",6),s(),m(8,Oe,3,1,"div",7),s()()),r&2&&(U(n.styleClass),l("ngClass","p-card p-component")("ngStyle",n._style()),C("data-pc-name","card"),o(),l("ngIf",n.headerFacet||n.headerTemplate||n._headerTemplate),o(2),l("ngIf",n.header||n.titleTemplate||n._titleTemplate),o(),l("ngIf",n.subheader||n.subtitleTemplate||n._subtitleTemplate),o(3),l("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),o(),l("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[x,M,Y,K,J,k],encapsulation:2,changeDetection:0})}return e})(),ce=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=R({type:e});static \u0275inj=j({imports:[D,k,k]})}return e})();function Qe(e,i){if(e&1){let t=E();c(0,"img",9),F("error",function(n){w(t);let p=d();return S(p.onImageError(n))}),s()}if(e&2){let t=d();l("src",t.getImageUrl(t.movie),N)("alt",t.movie.title||t.movie.name)}}var se=class e{movieStore=v(Z);wishlistStore=v(ee);movie;movieClicked=new B;isInWishlist=L(()=>this.wishlistStore.wishlist().some(i=>i.id===this.movie.id));toggleWishlist(i){i.stopPropagation(),this.wishlistStore.toggleWishlist(this.movie)}handleClick(){this.movieClicked.emit(this.movie.id)}fallbackImage="https://placehold.co/270x400";getImageUrl(i){return i.poster_path||i.profile_path?"https://image.tmdb.org/t/p/w500"+(i.poster_path||i.profile_path):this.fallbackImage}onImageError(i){let t=i.target;t.src!==this.fallbackImage&&(t.src=this.fallbackImage)}getVoteAveragePercent(i){return Math.round((i||0)*10)}getColorClass(i){return this.getVoteAveragePercent(i)>=70?"green-stroke":"yellow-stroke"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=y({type:e,selectors:[["app-movie-card-component"]],inputs:{movie:"movie"},outputs:{movieClicked:"movieClicked"},decls:15,vars:6,consts:[["header",""],[1,"movie-card","hover-animate"],[1,"movie__info"],[1,"pi",3,"click","ngClass"],[1,"progress-ring"],["viewBox","0 0 36 36",1,"circular-chart",3,"ngClass"],["d",`M18 2.0845
         a 15.9155 15.9155 0 0 1 0 31.831
         a 15.9155 15.9155 0 0 1 0 -31.831`,1,"circle-bg"],["d",`M18 2.0845
         a 15.9155 15.9155 0 0 1 0 31.831
         a 15.9155 15.9155 0 0 1 0 -31.831`,1,"circle"],["x","18","y","20.35",1,"percentage"],["alt","Card",1,"movie__img",3,"error","src","alt"]],template:function(t,r){if(t&1){let n=E();c(0,"p-card",1),m(1,Qe,1,2,"ng-template",null,0,G),c(3,"h3"),_(4),s(),c(5,"div",2)(6,"p"),_(7),s(),c(8,"i",3),F("click",function(a){return w(n),S(r.toggleWishlist(a))}),s()(),c(9,"div",4),$(),c(10,"svg",5),A(11,"path",6)(12,"path",7),c(13,"text",8),_(14),s()()()()}t&2&&(o(4),T(" ",r.movie.title||r.movie.name," "),o(3),T(" ",r.movie.release_date||r.movie.first_air_date," "),o(),l("ngClass",r.isInWishlist()?"pi-heart-fill active":"pi-heart"),o(2),l("ngClass",r.getColorClass(r.movie.vote_average)),o(2),C("stroke-dasharray",r.getVoteAveragePercent(r.movie.vote_average)+", 100"),o(2),T(" ",r.getVoteAveragePercent(r.movie.vote_average),"% "))},dependencies:[X,x,M,ce,D],styles:["[_nghost-%COMP%]     .movie-card{height:100%;display:flex;border-radius:15px}[_nghost-%COMP%]     .movie-card .p-card{flex-grow:1;display:flex;flex-direction:column}.p-card-body[_ngcontent-%COMP%]{flex-grow:1}.movie__info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hover-animate[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;will-change:transform,box-shadow;cursor:pointer}.hover-animate[_ngcontent-%COMP%]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 10px 20px #00000026}.pi[_ngcontent-%COMP%]{font-size:1.8rem;cursor:pointer;color:#999;transition:color .3s ease}.pi.active[_ngcontent-%COMP%], .pi[_ngcontent-%COMP%]:hover{color:#facc15}.movie__img[_ngcontent-%COMP%]{border-radius:15px;max-height:400px}h3[_ngcontent-%COMP%]{font-size:1rem;padding-bottom:.1rem}[_nghost-%COMP%]     .p-card-content{position:relative}.progress-ring[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#000;border-radius:50%;position:absolute;bottom:110%;z-index:100}.circular-chart[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%;max-height:100%}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#eee;stroke-width:3.8}.circle[_ngcontent-%COMP%]{fill:none;stroke-width:3.8;stroke-linecap:round;transition:stroke-dasharray .35s;transform:rotate(-90deg);transform-origin:center}.percentage[_ngcontent-%COMP%]{fill:#fff;font-size:.5rem;text-anchor:middle}.green-stroke[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#21d07a}.yellow-stroke[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#e6cc4b}"]})};export{se as a};
